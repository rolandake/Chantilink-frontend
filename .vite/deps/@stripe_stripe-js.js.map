{
  "version": 3,
  "sources": ["../../node_modules/@stripe/stripe-js/dist/index.mjs"],
  "sourcesContent": ["var RELEASE_TRAIN = 'clover';\n\nvar runtimeVersionToUrlVersion = function runtimeVersionToUrlVersion(version) {\n  return version === 3 ? 'v3' : version;\n};\n\nvar ORIGIN = 'https://js.stripe.com';\nvar STRIPE_JS_URL = \"\".concat(ORIGIN, \"/\").concat(RELEASE_TRAIN, \"/stripe.js\");\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar STRIPE_JS_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar isStripeJSURL = function isStripeJSURL(url) {\n  return V3_URL_REGEX.test(url) || STRIPE_JS_URL_REGEX.test(url);\n};\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(ORIGIN, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!isStripeJSURL(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(STRIPE_JS_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"8.5.3\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise$1 = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function (cause) {\n    reject(new Error('Failed to load Stripe.js', {\n      cause: cause\n    }));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise$1 !== null) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise$1[\"catch\"](function (error) {\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var pk = args[0];\n  var isTestKey = pk.match(/^pk_test/); // @ts-expect-error this is not publicly typed\n\n  var version = runtimeVersionToUrlVersion(maybeStripe.version);\n  var expectedVersion = RELEASE_TRAIN;\n\n  if (isTestKey && version !== expectedVersion) {\n    console.warn(\"Stripe.js@\".concat(version, \" was loaded on the page, but @stripe/stripe-js@\").concat(\"8.5.3\", \" expected Stripe.js@\").concat(expectedVersion, \". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise) {\n    return stripePromise;\n  }\n\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n  return stripePromise;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n"],
  "mappings": "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",
  "names": ["RELEASE_TRAIN", "runtimeVersionToUrlVersion", "version", "ORIGIN", "STRIPE_JS_URL", "V3_URL_REGEX", "STRIPE_JS_URL_REGEX", "EXISTING_SCRIPT_MESSAGE", "isStripeJSURL", "url", "findScript", "scripts", "i", "script", "injectScript", "params", "queryString", "headOrBody", "registerWrapper", "stripe", "startTime", "stripePromise$1", "onErrorListener", "onLoadListener", "onError", "reject", "cause", "onLoad", "resolve", "loadScript", "_script$parentNode", "error", "initStripe", "maybeStripe", "args", "pk", "isTestKey", "expectedVersion", "stripePromise", "loadCalled", "getStripePromise", "loadStripe", "_len", "_key"]
}
