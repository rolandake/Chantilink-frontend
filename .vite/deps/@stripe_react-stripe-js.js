import{a as Ce}from"./chunk-2BJKMNJT.js";import{a as ye}from"./chunk-D2OLMU3P.js";import{g as X}from"./chunk-KBFS2P5K.js";var a=X(ye(),1),f=X(Ce(),1);function Z(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function ee(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z(Object(t),!0).forEach(function(n){ie(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function W(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W=function(e){return typeof e}:W=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(r)}function te(r,e,t,n,u,o,s){try{var c=r[o](s),i=c.value}catch(m){t(m);return}c.done?e(i):Promise.resolve(i).then(n,u)}function ae(r){return function(){var e=this,t=arguments;return new Promise(function(n,u){var o=r.apply(e,t);function s(i){te(o,n,u,s,c,"next",i)}function c(i){te(o,n,u,s,c,"throw",i)}s(void 0)})}}function ie(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ee(r,e){if(r==null)return{};var t={},n=Object.keys(r),u,o;for(o=0;o<n.length;o++)u=n[o],!(e.indexOf(u)>=0)&&(t[u]=r[u]);return t}function be(r,e){if(r==null)return{};var t=Ee(r,e),n,u;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(u=0;u<o.length;u++)n=o[u],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function T(r,e){return Se(r)||ke(r,e)||Pe(r,e)||Re()}function Se(r){if(Array.isArray(r))return r}function ke(r,e){var t=r&&(typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],u=!0,o=!1,s,c;try{for(t=t.call(r);!(u=(s=t.next()).done)&&(n.push(s.value),!(e&&n.length===e));u=!0);}catch(i){o=!0,c=i}finally{try{!u&&t.return!=null&&t.return()}finally{if(o)throw c}}return n}}function Pe(r,e){if(r){if(typeof r=="string")return ne(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(r,e)}}function ne(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b=function(e,t,n){var u=!!n,o=a.default.useRef(n);a.default.useEffect(function(){o.current=n},[n]),a.default.useEffect(function(){if(!u||!e)return function(){};var s=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,s),function(){e.off(t,s)}},[u,t,e,o])},M=function(e){var t=a.default.useRef(e);return a.default.useEffect(function(){t.current=e},[e]),t.current},D=function(e){return e!==null&&W(e)==="object"},Oe=function(e){return D(e)&&typeof e.then=="function"},we=function(e){return D(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},re="[object Object]",Ae=function r(e,t){if(!D(e)||!D(t))return e===t;var n=Array.isArray(e),u=Array.isArray(t);if(n!==u)return!1;var o=Object.prototype.toString.call(e)===re,s=Object.prototype.toString.call(t)===re;if(o!==s)return!1;if(!o&&!n)return e===t;var c=Object.keys(e),i=Object.keys(t);if(c.length!==i.length)return!1;for(var m={},d=0;d<c.length;d+=1)m[c[d]]=!0;for(var C=0;C<i.length;C+=1)m[i[C]]=!0;var l=Object.keys(m);if(l.length!==c.length)return!1;var p=e,h=t,v=function(k){return r(p[k],h[k])};return l.every(v)},ue=function(e,t,n){return D(e)?Object.keys(e).reduce(function(u,o){var s=!D(t)||!Ae(e[o],t[o]);return n.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),u):s?ee(ee({},u||{}),{},ie({},o,e[o])):u},null):null},se="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",oe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;if(e===null||we(e))return e;throw new Error(t)},_=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;if(Oe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(u){return oe(u,t)})};var n=oe(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},B=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},F=a.default.createContext(null);F.displayName="ElementsContext";var ce=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},xe=function(e){var t=e.stripe,n=e.options,u=e.children,o=a.default.useMemo(function(){return _(t)},[t]),s=a.default.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(n):null}}),c=T(s,2),i=c[0],m=c[1];a.default.useEffect(function(){var l=!0,p=function(v){m(function(g){return g.stripe?g:{stripe:v,elements:v.elements(n)}})};return o.tag==="async"&&!i.stripe?o.stripePromise.then(function(h){h&&l&&p(h)}):o.tag==="sync"&&!i.stripe&&p(o.stripe),function(){l=!1}},[o,i,n]);var d=M(t);a.default.useEffect(function(){d!==null&&d!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,t]);var C=M(n);return a.default.useEffect(function(){if(i.elements){var l=ue(n,C,["clientSecret","fonts"]);l&&i.elements.update(l)}},[n,C,i.elements]),a.default.useEffect(function(){B(i.stripe)},[i.stripe]),a.default.createElement(F.Provider,{value:i},u)};xe.propTypes={stripe:f.default.any,options:f.default.object};var le=function(e){var t=a.default.useContext(F);return ce(t,e)},De=function(){var e=le("calls useElements()"),t=e.elements;return t},Ie=function(e){var t=e.children,n=le("mounts <ElementsConsumer>");return t(n)};Ie.propTypes={children:f.default.func.isRequired};var de=a.default.createContext(null);de.displayName="CheckoutContext";f.default.any,f.default.shape({clientSecret:f.default.oneOfType([f.default.string,f.default.instanceOf(Promise)]).isRequired,elementsOptions:f.default.object}).isRequired;var H=function(e){var t=a.default.useContext(de),n=a.default.useContext(F);if(t){if(n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return ce(n,e)},je=["mode"],Ne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},P=function(e,t){var n="".concat(Ne(e),"Element"),u=function(i){var m=i.id,d=i.className,C=i.options,l=C===void 0?{}:C,p=i.onBlur,h=i.onFocus,v=i.onReady,g=i.onChange,k=i.onEscape,N=i.onClick,w=i.onLoadError,A=i.onLoaderStart,x=i.onNetworksChange,U=i.onConfirm,R=i.onCancel,I=i.onShippingAddressChange,fe=i.onShippingRateChange,me=i.onSavedPaymentMethodRemove,ve=i.onSavedPaymentMethodUpdate,$=H("mounts <".concat(n,">")),Y="elements"in $?$.elements:null,L="checkoutState"in $?$.checkoutState:null,O=(L==null?void 0:L.type)==="success"||(L==null?void 0:L.type)==="loading"?L.sdk:null,he=a.default.useState(null),z=T(he,2),E=z[0],ge=z[1],j=a.default.useRef(null),q=a.default.useRef(null);b(E,"blur",p),b(E,"focus",h),b(E,"escape",k),b(E,"click",N),b(E,"loaderror",w),b(E,"loaderstart",A),b(E,"networkschange",x),b(E,"confirm",U),b(E,"cancel",R),b(E,"shippingaddresschange",I),b(E,"shippingratechange",fe),b(E,"savedpaymentmethodremove",me),b(E,"savedpaymentmethodupdate",ve),b(E,"change",g);var K;v&&(e==="expressCheckout"?K=v:K=function(){v(E)}),b(E,"ready",K),a.default.useLayoutEffect(function(){if(j.current===null&&q.current!==null&&(Y||O)){var y=null;if(O)switch(e){case"paymentForm":y=O.createPaymentFormElement();break;case"payment":y=O.createPaymentElement(l);break;case"address":if("mode"in l){var V=l.mode,Q=be(l,je);if(V==="shipping")y=O.createShippingAddressElement(Q);else if(V==="billing")y=O.createBillingAddressElement(Q);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":y=O.createExpressCheckoutElement(l);break;case"currencySelector":y=O.createCurrencySelectorElement();break;case"taxId":y=O.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Y&&(y=Y.create(e,l));j.current=y,ge(y),y&&y.mount(q.current)}},[Y,O,l]);var G=M(l);return a.default.useEffect(function(){if(j.current){var y=ue(l,G,["paymentRequest"]);y&&"update"in j.current&&j.current.update(y)}},[l,G]),a.default.useLayoutEffect(function(){return function(){if(j.current&&typeof j.current.destroy=="function")try{j.current.destroy(),j.current=null}catch(y){}}},[]),a.default.createElement("div",{id:m,className:d,ref:q})},o=function(i){H("mounts <".concat(n,">"));var m=i.id,d=i.className;return a.default.createElement("div",{id:m,className:d})},s=t?o:u;return s.propTypes={id:f.default.string,className:f.default.string,onChange:f.default.func,onBlur:f.default.func,onFocus:f.default.func,onReady:f.default.func,onEscape:f.default.func,onClick:f.default.func,onLoadError:f.default.func,onLoaderStart:f.default.func,onNetworksChange:f.default.func,onConfirm:f.default.func,onCancel:f.default.func,onShippingAddressChange:f.default.func,onShippingRateChange:f.default.func,onSavedPaymentMethodRemove:f.default.func,onSavedPaymentMethodUpdate:f.default.func,options:f.default.object},s.displayName=n,s.__elementType=e,s},S=typeof window=="undefined",J=a.default.createContext(null);J.displayName="EmbeddedCheckoutProviderContext";var pe=function(){var e=a.default.useContext(J);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},Le="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Te=function(e){var t=e.stripe,n=e.options,u=e.children,o=a.default.useMemo(function(){return _(t,Le)},[t]),s=a.default.useRef(null),c=a.default.useRef(null),i=a.default.useState({embeddedCheckout:null}),m=T(i,2),d=m[0],C=m[1];a.default.useEffect(function(){if(!(c.current||s.current)){var h=function(g){c.current||s.current||(c.current=g,s.current=c.current.initEmbeddedCheckout(n).then(function(k){C({embeddedCheckout:k})}))};o.tag==="async"&&!c.current&&(n.clientSecret||n.fetchClientSecret)?o.stripePromise.then(function(v){v&&h(v)}):o.tag==="sync"&&!c.current&&(n.clientSecret||n.fetchClientSecret)&&h(o.stripe)}},[o,n,d,c]),a.default.useEffect(function(){return function(){d.embeddedCheckout?(s.current=null,d.embeddedCheckout.destroy()):s.current&&s.current.then(function(){s.current=null,d.embeddedCheckout&&d.embeddedCheckout.destroy()})}},[d.embeddedCheckout]),a.default.useEffect(function(){B(c)},[c]);var l=M(t);a.default.useEffect(function(){l!==null&&l!==t&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[l,t]);var p=M(n);return a.default.useEffect(function(){if(p!=null){if(n==null){console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");return}n.clientSecret===void 0&&n.fetchClientSecret===void 0&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),p.clientSecret!=null&&n.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.fetchClientSecret!=null&&n.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.onComplete!=null&&n.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),p.onShippingDetailsChange!=null&&n.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),p.onLineItemsChange!=null&&n.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[p,n]),a.default.createElement(J.Provider,{value:d},u)},Me=function(e){var t=e.id,n=e.className,u=pe(),o=u.embeddedCheckout,s=a.default.useRef(!1),c=a.default.useRef(null);return a.default.useLayoutEffect(function(){return!s.current&&o&&c.current!==null&&(o.mount(c.current),s.current=!0),function(){if(s.current&&o)try{o.unmount(),s.current=!1}catch(i){}}},[o]),a.default.createElement("div",{ref:c,id:t,className:n})},Ue=function(e){var t=e.id,n=e.className;return pe(),a.default.createElement("div",{id:t,className:n})},$e=S?Ue:Me,Ye=function(e){var t=e.stripe,n=e.onLoad,u=e.onError,o=e.options,s=o==null?void 0:o.businessName,c=o==null?void 0:o.learnMoreLink,i=a.default.useRef(null),m=a.default.useMemo(function(){return _(t)},[t]),d=a.default.useState(m.tag==="sync"?m.stripe:null),C=T(d,2),l=C[0],p=C[1];a.default.useEffect(function(){var v=!0;return m.tag==="async"?m.stripePromise.then(function(g){g&&v&&p(g)}):m.tag==="sync"&&p(m.stripe),function(){v=!1}},[m]);var h=M(t);return a.default.useEffect(function(){h!==null&&h!==t&&console.warn("Unsupported prop change on FinancialAccountDisclosure: You cannot change the `stripe` prop after setting it.")},[h,t]),a.default.useEffect(function(){B(l)},[l]),a.default.useEffect(function(){var v=function(){var g=ae(regeneratorRuntime.mark(function k(){var N,w,A,x;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(!l||!i.current)){R.next=2;break}return R.abrupt("return");case 2:return R.next=4,l.createFinancialAccountDisclosure({businessName:s,learnMoreLink:c});case 4:N=R.sent,w=N.htmlElement,A=N.error,A&&u?u(A):w&&(x=i.current,x.innerHTML="",x.appendChild(w),n&&n());case 8:case"end":return R.stop()}},k)}));return function(){return g.apply(this,arguments)}}();v()},[l,s,c,n,u]),a.default.createElement("div",{ref:i})},We=function(e){var t=e.stripe,n=e.onLoad,u=e.onError,o=e.options,s=o==null?void 0:o.issuingProgramID,c=o==null?void 0:o.publicCardProgramName,i=o==null?void 0:o.learnMoreLink,m=a.default.useRef(null),d=a.default.useMemo(function(){return _(t)},[t]),C=a.default.useState(d.tag==="sync"?d.stripe:null),l=T(C,2),p=l[0],h=l[1];a.default.useEffect(function(){var g=!0;return d.tag==="async"?d.stripePromise.then(function(k){k&&g&&h(k)}):d.tag==="sync"&&h(d.stripe),function(){g=!1}},[d]);var v=M(t);return a.default.useEffect(function(){v!==null&&v!==t&&console.warn("Unsupported prop change on IssuingDisclosure: You cannot change the `stripe` prop after setting it.")},[v,t]),a.default.useEffect(function(){B(p)},[p]),a.default.useEffect(function(){var g=function(){var k=ae(regeneratorRuntime.mark(function N(){var w,A,x,U;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(!p||!m.current)){I.next=2;break}return I.abrupt("return");case 2:return I.next=4,p.createIssuingDisclosure({issuingProgramID:s,publicCardProgramName:c,learnMoreLink:i});case 4:w=I.sent,A=w.htmlElement,x=w.error,x&&u?u(x):A&&(U=m.current,U.innerHTML="",U.appendChild(A),n&&n());case 8:case"end":return I.stop()}},N)}));return function(){return k.apply(this,arguments)}}();g()},[p,s,c,i,n,u]),a.default.createElement("div",{ref:m})},_e=function(){var e=H("calls useStripe()"),t=e.stripe;return t},Be=P("auBankAccount",S),Fe=P("card",S),qe=P("cardNumber",S),Ke=P("cardExpiry",S),He=P("cardCvc",S),Je=P("iban",S),ze=P("payment",S),Ge=P("expressCheckout",S),Ve=P("paymentRequestButton",S),Qe=P("linkAuthentication",S),Xe=P("address",S),Ze=P("shippingAddress",S),et=P("paymentMethodMessaging",S),tt=P("taxId",S);export{Xe as AddressElement,Be as AuBankAccountElement,He as CardCvcElement,Fe as CardElement,Ke as CardExpiryElement,qe as CardNumberElement,xe as Elements,Ie as ElementsConsumer,$e as EmbeddedCheckout,Te as EmbeddedCheckoutProvider,Ge as ExpressCheckoutElement,Ye as FinancialAccountDisclosure,Je as IbanElement,We as IssuingDisclosure,Qe as LinkAuthenticationElement,ze as PaymentElement,et as PaymentMethodMessagingElement,Ve as PaymentRequestButtonElement,Ze as ShippingAddressElement,tt as TaxIdElement,De as useElements,_e as useStripe};
//# sourceMappingURL=@stripe_react-stripe-js.js.map
